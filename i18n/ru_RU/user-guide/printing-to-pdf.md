# Печать в PDF

Примечание: эта функция доступна начиная с версии EspoCRM 5.0.5.

Печать в PDF обеспечивает возможность создания PDF-документов с записанными данными. Содержимое документа определяется шаблоном.


Примечение. Необходимо иметь по крайней мере один шаблон для типа сущности записи, которую требуется напечатать.

### Печать одной записи

«Печать в PDF» доступна в подробном представлении в раскрывающемся меню рядом с кнопкой «Редактировать».

### Печать нескольких записей
Эта функция доступна с EspoCRM версии 5.3.0.

«Печать в PDF» доступна в виде списка как массовое действие. Вам нужно выбрать нужные записи и нажать «Печать в PDF» в меню «Действия». Это сгенерирует один объединенный файл PDF для нескольких записей.

По умолчанию максимальное количество записей ограничено 50. Ограничение определяется параметром config `massPrintPdfMaxCount`.

Обратите внимание, что нумерация страниц сбрасывается для каждой записи. Вам необходимо использовать заполнитель `{pageAbsoluteNumber}` для печати абсолютного количества страниц в нижнем колонтитуле.

### Ограничение доступа к печати

Может быть достигнуто путем ограничения доступа к типу объекта Шаблон (Template).

## Шаблоны

Вкладка шаблоны скрыта по умолчанию. Администратор может добавить его в Администрирование > Интерфейс пользователя.

Для более точного редактирования рекомендуется использовать режим просмотра кода.

Вы можете печатать поля записи, а также поля связанных записей, используя заполнители в шаблоне.

Образцы: 

* `{{name}}` – название записи;
* `{{assignedUserName}}` - ответственный пользователь;
* `{{account.name}}` – название связанного контрагента.

### Изображения 

Можно печатать поля изображения:

``
<img src="{{file imageId}}">
``

где `imageId` – название настраиваемого поля изображения, связанные с `Id`.

### Форматирование чисел

Для отображения чисел с плавающей запятой без дробной части (в виде целого числа) используйте следующее выражение:

``
{{numberFormat quantity_RAW decimals= 0}}
``

Пользовательское форматирование значений валют:

``
{{numberFormat unitPrice_RAW decimals=2 decimalPoint=',' thousandsSeparator=' '}}
``

Значение `10000.5` будет напечатано следующим образом `10 000,50`.

### Текстовые поля

Для отображения текстовых файлов (многострочных) используйте тройные фигурные скобки: `{{{description}}`.

### Каждый итератор (Each iterator)

Используйте режим просмотра кода и поместите хелпер `each` внутри html-комментария` <! - -> `.

Пример:
```
 <table>
 <!-- {{#each itemList}} -->
    <tr>
      <td>{{name}}</td>
      </td>{{amount}}</td>
    </tr>
 <!-- {{/each}} --> 
 </table>
```

### Поля Link-multiple 

Начиная с версии 5.5.0, можно проходить по множеству ссылок.

Пример, печать имен контактов и ролей сделок:

```
{{#each contacts}}
    Name: {{name}},
    Role: {{opportunityRole}},
    Contact's Account Type: {{account.type}}
{{/each}}
```

Следующий способ доступен начиная с версии 5.3.0.

Пример, печать имен контактов сделки:
```
{{#each contactsIds}}
    {{var this ../contactsNames}}
{{/each}}
```

### Проблемы с кодировкой

Если некоторые знаки не отображаются в сгенерированных файлах PDF, это обычно можно решить, изменив шрифт в шаблоне. Для арабского языка используйте шрифт AlArabiya. Доступно с версии 5.4.0. 
